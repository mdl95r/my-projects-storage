"use strict";document.addEventListener("DOMContentLoaded",()=>{const e={ASIDE_BURGER:".js-burger-aside",ASIDE_BURGER_SHOW:"burger-btn--active",ASIDE_NAV:".aside__nav",ASIDE_LIST:".js-aside-menu-list",ASIDE_LINK:"aside__link",ASIDE_LIST_SHOW:"aside__menu-list--show",ITEM:".aside__item",ITEM_SUBMENU:"aside__item--submenu",ITEM_SUBMENU_HOVERED:"aside__item--submenu-hovered",SUBMENU_ITEM:".submenu-item",SUBMENU_ITEM_ACTIVE:"submenu-item--active",MOBILE_SUBMENU:".mobile-submenu",MOBILE_SUBMENU_ACTIVE:"mobile-submenu--active"},t=".js-search-title",s=".js-search-dropdown",r=".search-dropdown__link",o="search__dropdown_show",c="search-dropdown__link_active";function i(){const t=document.querySelector(`.${e.ITEM_SUBMENU}.${e.ITEM_SUBMENU_HOVERED}`);if(t){t.classList.remove(e.ITEM_SUBMENU_HOVERED),t.querySelector(e.SUBMENU_ITEM).classList.remove(e.SUBMENU_ITEM_ACTIVE);const s=t.querySelector(e.MOBILE_SUBMENU);s.classList.remove(e.MOBILE_SUBMENU_ACTIVE),s.style.maxHeight="0"}}const n=document.querySelector(".js-burger-btn"),l=document.querySelector(".js-mob-menu"),a=document.querySelector("body");n.addEventListener("click",e=>{n.classList.toggle("burger-btn--active"),n.classList.contains("burger-btn--active")?(l.classList.add("mob-menu--active"),a.classList.add("no-scroll")):(l.classList.remove("mob-menu--active"),a.classList.remove("no-scroll"))}),window.addEventListener("resize",()=>{l.classList.remove("mob-menu--active"),a.classList.remove("no-scroll"),n.classList.remove("burger-btn--active"),i()}),document.querySelector(e.ASIDE_BURGER).addEventListener("click",function(){this.classList.toggle(e.ASIDE_BURGER_SHOW);const t=document.querySelector(e.ASIDE_LIST);if(t.classList.contains("aside__menu-list--show"))i(),t.style.height="0px";else{const e=document.querySelectorAll(".aside__item"),s=document.querySelector(".aside__item").offsetHeight,r=e.length*s;t.style.height=`${r}px`}this.closest(e.ASIDE_NAV).querySelector(e.ASIDE_LIST).classList.toggle(e.ASIDE_LIST_SHOW)});const E=document.querySelector(t),_=document.querySelector(s);E.addEventListener("click",function(e){e.preventDefault(),_.classList.toggle(o)}),_.addEventListener("click",e=>{const t=document.querySelectorAll(r),s=e.target;if(e.preventDefault(),s.classList.contains("search-dropdown__link")){s.classList.toggle(c);const e=document.querySelectorAll(`.${c}`).length;e<t.length?E.innerText=`${E.getAttribute("data-text-rus")} ${e}`:E.innerText=E.getAttribute("data-text-default-rus")}}),document.querySelector(".js-search-btn").addEventListener("click",e=>{e.preventDefault();const t=[],s=document.querySelectorAll(".search-dropdown__link_active");s.length>0&&s.forEach(e=>{const s=e.dataset.idCategory;t.push({id:s})}),console.log(JSON.stringify(t))});const d=document.querySelectorAll(`.${e.ITEM_SUBMENU}`),u=document.querySelector(e.ASIDE_LIST);u.addEventListener("click",t=>{const s=t.target.closest(e.ITEM);if(s.classList.contains(e.ITEM_SUBMENU_HOVERED)){t.preventDefault();const r=s.querySelector(e.SUBMENU_ITEM),o=s.querySelector(e.MOBILE_SUBMENU);return s.classList.remove(e.ITEM_SUBMENU_HOVERED),r.classList.remove(e.SUBMENU_ITEM_ACTIVE),o.classList.remove(e.MOBILE_SUBMENU_ACTIVE),void(o.style.maxHeight="0")}if(s.classList.contains(e.ITEM_SUBMENU)){t.preventDefault();const r=s.querySelector(e.SUBMENU_ITEM);if(d.forEach(t=>{t.classList.remove(e.ITEM_SUBMENU_HOVERED),t.querySelector(e.SUBMENU_ITEM).classList.remove(e.SUBMENU_ITEM_ACTIVE)}),s.classList.add(e.ITEM_SUBMENU_HOVERED),r.classList.add(e.SUBMENU_ITEM_ACTIVE),window.matchMedia("(max-width: 1100px)").matches){d.forEach(t=>{t.classList.remove(e.ITEM_SUBMENU_HOVERED);const s=t.querySelector(e.MOBILE_SUBMENU);s.classList.remove(e.MOBILE_SUBMENU_ACTIVE),s.style.maxHeight="0"});const t=s.querySelector(e.MOBILE_SUBMENU),r=t.querySelector(".submenu-item__menu-list");t.style.maxHeight=`${r.offsetHeight}px`,t.classList.add(e.MOBILE_SUBMENU_ACTIVE),u.style.height="auto",s.classList.add(e.ITEM_SUBMENU_HOVERED)}}else s.closest(e.ASIDE_LIST).querySelector(`.${e.ITEM_SUBMENU_HOVERED}`)&&(s.closest(e.ASIDE_LIST).querySelector(`.${e.ITEM_SUBMENU_HOVERED}`).classList.remove(e.ITEM_SUBMENU_HOVERED),s.closest(e.ASIDE_LIST).querySelector(`.${e.SUBMENU_ITEM_ACTIVE}`).classList.remove(e.SUBMENU_ITEM_ACTIVE))}),document.addEventListener("click",t=>{const s=t.target,r=document.querySelector(`.${e.ITEM_SUBMENU_HOVERED}`);window.matchMedia("(min-width: 1100px)").matches&&r&&(s.classList.contains(e.ASIDE_LINK)||s.closest(e.SUBMENU_ITEM)||(r.classList.remove(e.ITEM_SUBMENU_HOVERED),document.querySelector(`.${e.SUBMENU_ITEM_ACTIVE}`).classList.remove(e.SUBMENU_ITEM_ACTIVE))),s.closest(".main-content__search")||_.classList.remove(o)}),document.querySelector(".main-content__hero.swiper")&&new Swiper(".main-content__hero",{slidesPerView:1,centeredSlides:!0,spaceBetween:0,speed:800,autoHeight:!0,autoplay:!0,observer:!0,observeParents:!0,pagination:{el:".hero-dots",clickable:!0}});const S=document.querySelectorAll(".hero-list__item img"),M=document.querySelectorAll(".swiper-pagination-bullet");for(let e=0;e<S.length;e++){const t=S[e].getAttribute("src");M[e].style.background=`url(${t})`}document.querySelector(".cards__container")&&new Swiper(".cards__container",{observer:!0,observeParents:!0,autoplay:!0,slidesPerView:1,slidesPerGroup:1,spaceBetween:0,speed:1500,lazy:!0,pagination:{el:".slider-control__counter",type:"fraction"},navigation:{prevEl:".js-cards-prev",nextEl:".js-cards-next"}}),document.querySelector(".brands")&&new Swiper(".brands__container",{loop:!0,autoplay:!0,slidesPerView:5,slidesPerGroup:1,spaceBetween:30,breakpoints:{992:{slidesPerView:5,slidesPerGroup:1},768:{slidesPerView:4},576:{slidesPerView:2,spaceBetween:10},320:{slidesPerView:1,spaceBetween:5}},navigation:{prevEl:".js-brands-arrow-left",nextEl:".js-brands-arrow-right"}})});